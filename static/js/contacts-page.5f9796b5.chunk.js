"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[141],{3938:function(e,n,a){a.r(n),a.d(n,{default:function(){return He}});var t=a(885),r=a(4942),o=a(1413),s=a(2791),i=a(9434),c=a(5036),l=a(3701),d=a(3360),u=a(5987),m=a(1694),h=a.n(m),f=a(162),b=a(184),x=["bsPrefix","variant","animation","size","as","className"],v=s.forwardRef((function(e,n){var a=e.bsPrefix,t=e.variant,r=e.animation,s=e.size,i=e.as,c=void 0===i?"div":i,l=e.className,d=(0,u.Z)(e,x);a=(0,f.vE)(a,"spinner");var m="".concat(a,"-").concat(r);return(0,b.jsx)(c,(0,o.Z)((0,o.Z)({ref:n},d),{},{className:h()(l,m,s&&"".concat(m,"-").concat(s),t&&"text-".concat(t))}))}));v.displayName="Spinner";var p=v,Z={name:"",number:""};function g(){var e=(0,s.useState)(Z),n=(0,t.Z)(e,2),a=n[0],u=n[1],m=(0,i.v9)((function(e){return e.contacts.items})),h=(0,s.useState)(!1),f=(0,t.Z)(h,2),x=f[0],v=f[1];(0,s.useEffect)((function(){v(!1)}),[m]);var g=(0,i.I0)(),j=function(e){var n=e.target.getAttribute("name");u((function(a){return(0,o.Z)((0,o.Z)({},a),{},(0,r.Z)({},n,e.target.value))}))};return(0,b.jsxs)(l.Z,{onSubmit:function(e){e.preventDefault();var n=a.name,t=a.number;m.find((function(e){return e.name===n}))?alert("".concat(n," is already in contacts")):(v(!0),g(c.Z.addContacts({name:n,number:t})),u(Z))},className:"mx-auto mt-1 shadow p-4 mb-1 bg-body rounded",style:{width:"480px"},children:[(0,b.jsxs)(l.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,b.jsx)(l.Z.Label,{children:"Name"}),(0,b.jsx)(l.Z.Control,{type:"text",placeholder:"Enter name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:a.name,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:j})]}),(0,b.jsxs)(l.Z.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,b.jsx)(l.Z.Label,{children:"Phone number"}),(0,b.jsx)(l.Z.Control,{type:"tel",placeholder:"Enter phone number",name:"number",value:a.number,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:j})]}),(0,b.jsx)(l.Z.Group,{className:"mb-3",controlId:"formBasicCheckbox"}),(0,b.jsxs)(d.Z,{className:"mx-auto d-block",style:{width:"135px"},type:"submit",variant:"outline-primary",children:[x?(0,b.jsx)(p,{as:"span",animation:"border",role:"status",variant:"danger","aria-hidden":"true",size:"sm"}):(0,b.jsx)("i",{className:"bi bi-file-earmark-plus"}),(0,b.jsx)("span",{children:" Add contact"})]})]})}a(2391);var j=a(239),y=a(7503),N=a(9007),C=a(4787),w=a(8633),k=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],E=s.forwardRef((function(e,n){var a=e.bsPrefix,r=e.active,s=e.disabled,i=e.eventKey,c=e.className,l=e.variant,d=e.action,m=e.as,x=(0,u.Z)(e,k);a=(0,f.vE)(a,"list-group-item");var v=(0,C.v)((0,o.Z)({key:(0,w.h)(i,x.href),active:r},x)),p=(0,t.Z)(v,2),Z=p[0],g=p[1],j=(0,N.Z)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();Z.onClick(e)}));s&&void 0===x.tabIndex&&(x.tabIndex=-1,x["aria-disabled"]=!0);var y=m||(d?x.href?"a":"button":"div");return(0,b.jsx)(y,(0,o.Z)((0,o.Z)((0,o.Z)({ref:n},x),Z),{},{onClick:j,className:h()(c,a,g.isActive&&"active",s&&"disabled",l&&"".concat(a,"-").concat(l),d&&"".concat(a,"-action"))}))}));E.displayName="ListGroupItem";var F=E,P=["className","bsPrefix","variant","horizontal","numbered","as"],I=s.forwardRef((function(e,n){var a,t=(0,j.Ch)(e,{activeKey:"onSelect"}),r=t.className,s=t.bsPrefix,i=t.variant,c=t.horizontal,l=t.numbered,d=t.as,m=void 0===d?"div":d,x=(0,u.Z)(t,P),v=(0,f.vE)(s,"list-group");return c&&(a=!0===c?"horizontal":"horizontal-".concat(c)),(0,b.jsx)(y.Z,(0,o.Z)((0,o.Z)({ref:n},x),{},{as:m,className:h()(r,v,i&&"".concat(v,"-").concat(i),a&&"".concat(v,"-").concat(a),l&&"".concat(v,"-numbered"))}))}));I.displayName="ListGroup";var z,R=Object.assign(I,{Item:F}),S=a(3070),A=a(7357),L=a(8376),T=a(6382);function D(e){if((!z&&0!==z||e)&&A.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),z=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return z}var H=a(7731),O=a(3201),_=a(1683),B=a(3690),M=a(6137),G=a(5137),K=a(2709),q=a(6543),V=(0,q.Z)("modal-body"),U=a(9820),W=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],J=s.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,r=e.contentClassName,s=e.centered,i=e.size,c=e.fullscreen,l=e.children,d=e.scrollable,m=(0,u.Z)(e,W);a=(0,f.vE)(a,"modal");var x="".concat(a,"-dialog"),v="string"===typeof c?"".concat(a,"-fullscreen-").concat(c):"".concat(a,"-fullscreen");return(0,b.jsx)("div",(0,o.Z)((0,o.Z)({},m),{},{ref:n,className:h()(x,t,i&&"".concat(a,"-").concat(i),s&&"".concat(x,"-centered"),d&&"".concat(x,"-scrollable"),c&&v),children:(0,b.jsx)("div",{className:h()("".concat(a,"-content"),r),children:l})}))}));J.displayName="ModalDialog";var $=J,Q=(0,q.Z)("modal-footer"),X=a(2086),Y=["bsPrefix","className"],ee=s.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,r=(0,u.Z)(e,Y);return a=(0,f.vE)(a,"modal-header"),(0,b.jsx)(X.Z,(0,o.Z)((0,o.Z)({ref:n},r),{},{className:h()(t,a)}))}));ee.displayName="ModalHeader",ee.defaultProps={closeLabel:"Close",closeButton:!1};var ne=ee,ae=a(7472),te=(0,ae.Z)("h4"),re=(0,q.Z)("modal-title",{Component:te}),oe=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],se={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:$};function ie(e){return(0,b.jsx)(K.Z,(0,o.Z)((0,o.Z)({},e),{},{timeout:null}))}function ce(e){return(0,b.jsx)(K.Z,(0,o.Z)((0,o.Z)({},e),{},{timeout:null}))}var le=s.forwardRef((function(e,n){var a=e.bsPrefix,r=e.className,i=e.style,c=e.dialogClassName,l=e.contentClassName,d=e.children,m=e.dialogAs,x=e["aria-labelledby"],v=e["aria-describedby"],p=e["aria-label"],Z=e.show,g=e.animation,j=e.backdrop,y=e.keyboard,C=e.onEscapeKeyDown,w=e.onShow,k=e.onHide,E=e.container,F=e.autoFocus,P=e.enforceFocus,I=e.restoreFocus,z=e.restoreFocusOptions,R=e.onEntered,K=e.onExit,q=e.onExiting,V=e.onEnter,W=e.onEntering,J=e.onExited,$=e.backdropClassName,Q=e.manager,X=(0,u.Z)(e,oe),Y=(0,s.useState)({}),ee=(0,t.Z)(Y,2),ne=ee[0],ae=ee[1],te=(0,s.useState)(!1),re=(0,t.Z)(te,2),se=re[0],le=re[1],de=(0,s.useRef)(!1),ue=(0,s.useRef)(!1),me=(0,s.useRef)(null),he=(0,H.Z)(),fe=(0,t.Z)(he,2),be=fe[0],xe=fe[1],ve=(0,O.Z)(n,xe),pe=(0,N.Z)(k),Ze=(0,f.SC)();a=(0,f.vE)(a,"modal");var ge=(0,s.useMemo)((function(){return{onHide:pe}}),[pe]);function je(){return Q||(0,G.t)({isRTL:Ze})}function ye(e){if(A.Z){var n=je().getScrollbarWidth()>0,a=e.scrollHeight>(0,L.Z)(e).documentElement.clientHeight;ae({paddingRight:n&&!a?D():void 0,paddingLeft:!n&&a?D():void 0})}}var Ne=(0,N.Z)((function(){be&&ye(be.dialog)}));(0,_.Z)((function(){(0,T.Z)(window,"resize",Ne),null==me.current||me.current()}));var Ce=function(){de.current=!0},we=function(e){de.current&&be&&e.target===be.dialog&&(ue.current=!0),de.current=!1},ke=function(){le(!0),me.current=(0,B.Z)(be.dialog,(function(){le(!1)}))},Ee=function(e){"static"!==j?ue.current||e.target!==e.currentTarget?ue.current=!1:null==k||k():function(e){e.target===e.currentTarget&&ke()}(e)},Fe=(0,s.useCallback)((function(e){return(0,b.jsx)("div",(0,o.Z)((0,o.Z)({},e),{},{className:h()("".concat(a,"-backdrop"),$,!g&&"show")}))}),[g,$,a]),Pe=(0,o.Z)((0,o.Z)({},i),ne);Pe.display="block";return(0,b.jsx)(U.Z.Provider,{value:ge,children:(0,b.jsx)(M.Z,{show:Z,ref:ve,backdrop:j,container:E,keyboard:!0,autoFocus:F,enforceFocus:P,restoreFocus:I,restoreFocusOptions:z,onEscapeKeyDown:function(e){y||"static"!==j?y&&C&&C(e):(e.preventDefault(),ke())},onShow:w,onHide:k,onEnter:function(e,n){e&&ye(e),null==V||V(e,n)},onEntering:function(e,n){null==W||W(e,n),(0,S.ZP)(window,"resize",Ne)},onEntered:R,onExit:function(e){null==me.current||me.current(),null==K||K(e)},onExiting:q,onExited:function(e){e&&(e.style.display=""),null==J||J(e),(0,T.Z)(window,"resize",Ne)},manager:je(),transition:g?ie:void 0,backdropTransition:g?ce:void 0,renderBackdrop:Fe,renderDialog:function(e){return(0,b.jsx)("div",(0,o.Z)((0,o.Z)({role:"dialog"},e),{},{style:Pe,className:h()(r,a,se&&"".concat(a,"-static")),onClick:j?Ee:void 0,onMouseUp:we,"aria-label":p,"aria-labelledby":x,"aria-describedby":v,children:(0,b.jsx)(m,(0,o.Z)((0,o.Z)({},X),{},{onMouseDown:Ce,className:c,contentClassName:l,children:d}))}))}})})}));le.displayName="Modal",le.defaultProps=se;var de=Object.assign(le,{Body:V,Header:ne,Title:re,Footer:Q,Dialog:$,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function ue(e){var n=e.show,a=e.toggleModal,u=e.name,m=e.number,h=e.id,f=(0,i.I0)(),x=(0,s.useState)({name:u,number:m}),v=(0,t.Z)(x,2),p=v[0],Z=v[1],g=function(e){Z((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,r.Z)({},e.target.name,e.target.value))}))};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(de,{show:n,onHide:a,children:[(0,b.jsx)(de.Header,{closeButton:!0,children:(0,b.jsx)(de.Title,{children:"Edit contact"})}),(0,b.jsx)(de.Body,{children:(0,b.jsxs)(l.Z,{children:[(0,b.jsxs)(l.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,b.jsx)(l.Z.Label,{children:"Name"}),(0,b.jsx)(l.Z.Control,{value:p.name,type:"text",name:"name",placeholder:"Enter new name",autoFocus:!0,onChange:g})]}),(0,b.jsxs)(l.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,b.jsx)(l.Z.Label,{children:"Number"}),(0,b.jsx)(l.Z.Control,{value:p.number,type:"tel",name:"number",placeholder:"Enter new number",autoFocus:!0,onChange:g})]})]})}),(0,b.jsxs)(de.Footer,{children:[(0,b.jsx)(d.Z,{variant:"secondary",onClick:a,children:"Close"}),(0,b.jsx)(d.Z,{variant:"primary",onClick:function(){f(c.Z.editContact((0,o.Z)((0,o.Z)({},p),{},{id:h}))),a()},children:"Save Changes"})]})]})})}var me=function(e){var n=e.name,a=e.number,r=e.id,o=(0,i.I0)(),l=(0,s.useState)(!1),u=(0,t.Z)(l,2),m=u[0],h=u[1],f=(0,s.useState)(!1),x=(0,t.Z)(f,2),v=x[0],Z=x[1],g=function(){return Z(!v)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(F,{className:"d-flex p-2 justify-content-between align-items-center bg-light",children:[(0,b.jsxs)("p",{className:"m-0",children:[n,": ",a]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d.Z,{variant:"outline-danger",className:"me-2",size:"sm",style:{width:"35px"},onClick:g,children:(0,b.jsx)("i",{className:"bi bi-pencil-square"})}),(0,b.jsx)(d.Z,{style:{width:"35px"},variant:"outline-primary",size:"sm",type:"button",onClick:function(){o(c.Z.deleteContacts(r)),h(!0)},children:m?(0,b.jsx)(p,{as:"span",animation:"border",role:"status",variant:"danger","aria-hidden":"true",size:"sm"}):(0,b.jsx)("i",{className:"bi bi-trash"})})]})]}),(0,b.jsx)(ue,{show:v,toggleModal:g,name:n,number:a,id:r})]})},he=a(1396),fe=a(473),be=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],xe=(0,ae.Z)("h4");xe.displayName="DivStyledAsH4";var ve=(0,q.Z)("alert-heading",{Component:xe}),pe=(0,q.Z)("alert-link",{Component:he.Z}),Ze={variant:"primary",show:!0,transition:K.Z,closeLabel:"Close alert"},ge=s.forwardRef((function(e,n){var a=(0,j.Ch)(e,{show:"onClose"}),t=a.bsPrefix,r=a.show,s=a.closeLabel,i=a.closeVariant,c=a.className,l=a.children,d=a.variant,m=a.onClose,x=a.dismissible,v=a.transition,p=(0,u.Z)(a,be),Z=(0,f.vE)(t,"alert"),g=(0,N.Z)((function(e){m&&m(!1,e)})),y=!0===v?K.Z:v,C=(0,b.jsxs)("div",(0,o.Z)((0,o.Z)({role:"alert"},y?void 0:p),{},{ref:n,className:h()(c,Z,d&&"".concat(Z,"-").concat(d),x&&"".concat(Z,"-dismissible")),children:[x&&(0,b.jsx)(fe.Z,{onClick:g,"aria-label":s,variant:i}),l]}));return y?(0,b.jsx)(y,(0,o.Z)((0,o.Z)({unmountOnExit:!0},p),{},{ref:void 0,in:r,children:C})):r?C:null}));ge.displayName="Alert",ge.defaultProps=Ze;var je=Object.assign(ge,{Link:pe,Heading:ve});function ye(e){var n=e.text;return(0,b.jsx)(je,{className:"mx-auto",variant:"primary",style:{width:"480px"},children:(0,b.jsx)(je.Heading,{className:"m-0 ",children:n})})}var Ne=a(2639);function Ce(e){var n=e.filter,a=(0,i.I0)(),t=(0,i.v9)((function(e){return e.auth.token})),r=(0,i.v9)((function(e){return e.contacts.items})),o=(0,i.v9)((function(e){return e.contacts.isLoading}));(0,s.useEffect)((function(){t&&a(c.Z.fetchContacts())}),[a,t]);var l=r.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return(0,b.jsxs)(b.Fragment,{children:[o&&0===r.length&&(0,b.jsx)(Ne.Z,{}),l.length>0&&!o&&(0,b.jsx)(R,{className:"shadow p-3 bg-body rounded",style:{width:"480px"},children:l.map((function(e){var n=e.id,a=e.name,t=e.number;return(0,b.jsx)(me,{name:a,number:t,id:n},n)}))}),r.length>0&&0===l.length&&(0,b.jsx)(ye,{text:"The entered name wasn't found."}),0===r.length&&(0,b.jsx)(ye,{text:"Phone book has no contacts."})]})}var we=a(6882),ke=s.createContext(null);ke.displayName="InputGroupContext";var Ee=ke,Fe=["bsPrefix","size","hasValidation","className","as"],Pe=(0,q.Z)("input-group-text",{Component:"span"}),Ie=s.forwardRef((function(e,n){var a=e.bsPrefix,t=e.size,r=e.hasValidation,i=e.className,c=e.as,l=void 0===c?"div":c,d=(0,u.Z)(e,Fe);a=(0,f.vE)(a,"input-group");var m=(0,s.useMemo)((function(){return{}}),[]);return(0,b.jsx)(Ee.Provider,{value:m,children:(0,b.jsx)(l,(0,o.Z)((0,o.Z)({ref:n},d),{},{className:h()(i,a,t&&"".concat(a,"-").concat(t),r&&"has-validation")}))})}));Ie.displayName="InputGroup";var ze=Object.assign(Ie,{Text:Pe,Radio:function(e){return(0,b.jsx)(Pe,{children:(0,b.jsx)(we.Z,(0,o.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,b.jsx)(Pe,{children:(0,b.jsx)(we.Z,(0,o.Z)({type:"checkbox"},e))})}}),Re=a(4292),Se=a(2007),Ae=a.n(Se);function Le(e){var n=e.filter,a=e.handleChange;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(ze,{className:"mb-3 mx-auto",style:{width:"480px"},children:[(0,b.jsx)(ze.Text,{id:"basic-addon3",children:"Find contact by name"}),(0,b.jsx)(Re.Z,{id:"basic-url","aria-describedby":"basic-addon3",value:n,name:"filter",onChange:a})]})})}var Te=Le;Le.prototype={filter:Ae().string.isRequired,handleChange:Ae().func.isRequired};var De=a(7022);function He(){var e=(0,s.useState)(""),n=(0,t.Z)(e,2),a=n[0],r=n[1];return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(De.Z,{className:"d-flex flex-column align-items-center mt-1",style:{minHeight:"calc(100vh - 56px)"},children:[(0,b.jsx)("h2",{children:"Phonebook"}),(0,b.jsx)(g,{}),(0,b.jsx)("h2",{children:"Contacts"}),(0,b.jsx)(Te,{filter:a,handleChange:function(e){r(e.target.value)}}),(0,b.jsx)(Ce,{filter:a})]})})}}}]);
//# sourceMappingURL=contacts-page.5f9796b5.chunk.js.map